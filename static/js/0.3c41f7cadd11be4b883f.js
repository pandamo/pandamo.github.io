webpackJsonp([0],{NRhg:function(t,o){},ZMdz:function(t,o,i){"use strict";Object.defineProperty(o,"__esModule",{value:!0});i("pqig");var n={name:"recordPlayerMobile",props:["songInfo","cdStyle","playing"],data:function(){return{playerBack:{backgroundImage:""},loaded:!1,songSrc:"",touchStartX:0,endX:0,touching:!1,touchAction:"",opacity:1,cover:""}},computed:{artists:function(){if(this.songInfo.artist)return this.songInfo.artist.map(function(t){return t.name}).join(",")},moveStyle:function(){return this.touching?{transform:"translateX("+this.endX+"px)",opacity:this.opacity}:this.loaded?{transform:"translateX(0px)","transition-duration":".8s",opacity:1}:void 0}},methods:{initRecodPlayer:function(t){var o=this;this.loaded=!1;var i=new Image,n=t.cover+"?param=400y400";i.src=n,this.songSrc="//music.163.com/song/media/outer/url?id="+t.id+".mp3",i.onload=function(){o.loaded=!0,setTimeout(function(){o.playerBack.backgroundImage="url('"+n+"')",o.cover=n},20)}},touchStart:function(t){this.touching=!0,this.touchStartX=t.touches[0].clientX,this.opacity=1},touchMove:function(t){this.endX=t.touches[0].clientX-this.touchStartX;var o=1-Math.abs(this.endX/300);this.opacity=o>0?Math.abs(o).toFixed(2):0,this.endX>120&&(this.touchAction="prev"),this.endX<-120&&(this.touchAction="next")},toucheEnd:function(t){this.touching=!1,this.endX=0,this.play(this.touchAction)},play:function(t){this.$emit("swipeCd",t),this.touchAction=""}},watch:{songInfo:function(t,o){console.log("songInfo: ",t),this.initRecodPlayer(t)}},created:function(){this.initRecodPlayer(this.songInfo)}},s={render:function(){var t=this,o=t.$createElement,i=t._self._c||o;return t.songInfo?i("div",[i("div",{staticClass:"cdStyle"},[i("div",{class:["blurCoverBack",{loaded:!t.loaded}],style:t.playerBack}),t._v(" "),i("div",{staticClass:"cdBox",style:t.moveStyle,on:{touchstart:t.touchStart,touchmove:t.touchMove,touchend:t.toucheEnd}},[i("div",{staticClass:"cdLlight"}),t._v(" "),i("img",{class:[{cd:t.loaded},{pause:!t.playing||t.touching}],attrs:{src:t.cover,id:"cd"}}),t._v(" "),i("div",{staticClass:"cdShadow"})])]),t._v(" "),i("div",{staticClass:"songInfo"},[i("div",[t._v(t._s(t.songInfo.name))]),t._v(" "),i("div",[i("span",[t._v(t._s(t.artists))])])])]):t._e()},staticRenderFns:[]};var e=i("/4AN")(n,s,!1,function(t){i("NRhg")},"data-v-7391f321",null);o.default=e.exports}});